<!-- style.html: General app CSS -->
<style>
    :root {
        --dark-blue: #1E3A8A;
        --blue: #60A5FA;
        --light-blue: #93C5FD;
        /* --grey: #757575; */
        --grey: #4B5563;
        --green: #34D399;
        --light-grey: #D3D3D3;
        --alert-blue: #007bff;
        --alert-red: #DC3545;
        --alert-green: var(--green);
        /* --alert-green: #28a745; */
        --alert-yellow: #ffc107;

        --jp-success-color1: var(--green);
        --jp-widgets-input-border-color: var(--light-grey);
    }

    /*** Style basic HTML elements ***/

    .selmono {
        font-family: "Lucida Console", Monaco, monospace !important;
        width: 100%;
    }

    hr{
        border-color: inherit; /* It seems like there's no way to assign a CSS class to a <hr> element, since ipywidgets
                                  will always wrap it with <div>. So, we let it inherit from its parent element and style
                                  the parent instead. */
    } 

    a, a:focus, a:hover {
        color: unset;
    }

    textarea{
        resize: none;
    }
    
    /*** Extend CSS classes used by native ipywidgets / jupyter notebook components

        Note: Make sure this section appear first before the section that contains classes for custom CSS components.
        Else, the styling defined in this section might override the styling defined in the custom section
    ***/
    
    /* Change color variable */
    :root {
        --jp-error-color1: #F87171;
    }

    /* Make sure the jupyter notebook is large enough */ 
    #notebook-container{
        min-width: 1250px !important;
    }

    /* Change button style */
    .jupyter-button {
        height: 36px;
        width: 132px;
        border-radius: 4px;
        background: var(--blue);
        color: white;
    }
    .jupyter-button:active:enabled {
        background: #458ce2;
        color: white;
    }
    .jupyter-button:active:disabled {
        background: var(--light-grey);
        color: white;
    }
    .jupyter-button:disabled {
        background: var(--light-grey);
        color: white;
    }
    .jupyter-button:focus:enabled {
        outline: none;
    }
    .jupyter-button.mod-info:active {  /*button with info variant*/
        background: #00b4d4;
    }
    .jupyter-button.mod-success:active {  /*button with info variant*/
        background: #31c28d;
    }
    /* Remove margin that jupyter widgets have*/
    .jupyter-widgets {
        margin: 0px 0px;
    }

    /* Prevent display("style.html") or other "empty" display() from taking up screen space */
    div.output_subarea {
        padding: 0px 0px;
    }

    /* Position the whole app (or displayed component) at the center of the output area */
    div.output_area {
        justify-content: center !important;
    }

    /* These attributes were unset because they mess up flex stylings for ui.HTML components */
    .widget-html-content {
        align-self: unset !important;
        flex-shrink: unset !important;
        flex-grow: unset !important;
        display: flex !important;
    }

    /* Make sure long selection options are truncated */
    select {
        text-overflow: ellipsis;
    }

    /*** CSS classes for custom components.

       To avoid name clashes with the existing classes used by ipywidgets,
       their names are prepended with "c" for "custom". The name also follows BEM convention.
    ***/

    /* App */
    @import url('https://fonts.googleapis.com/css2?family=Lato&display=swap');
    .c-app-container {
        font-family:'Lato', sans-serif;
        width: 1041px;
        height: 840px;
        border: 1px solid var(--dark-blue);
        padding: 0px 0px;
        margin: 0px auto 40px auto;
    }

    /* Cursor modification */    
    .c-cursor-mod--progress * {
        cursor: progress !important;
    }
    .c-cursor-mod--wait * {
        cursor: wait !important;
    }
    
    /* Display modification */
    .c-display-mod--none {
        display: none !important;
    }

    /* Color modification */
    .c-color-mod--white {
        color: white;
    }
    .c-color-mod--black{
        color: black;
    }
    .c-color-mod--grey {
        color: var(--grey);
    }
    .c-color-mod--blue{
        color: var(--blue);
    }
    /* Snackbar to show the name of the uploaded file */
    .c-filename-snackbar {
        width: 500px;
        height: 36px;
        padding: 0px 6px 0px 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-flow: row nowrap;
        background: rgba(96, 165, 250, 0.1);
    }
    .c-filename-snackbar .widget-label {
        color: var(--blue);
        background: transparent;
        text-overflow: ellipsis;
    }
    .c-filename-snackbar .widget-button {
        height: 30px;
        width: 30px;
        border-radius: 50%;
        background: transparent !important;
        color: var(--blue);
        font-size: 10px;
        line-height: 10px;
        text-align: center;
    }
    .c-filename-snackbar .widget-button:hover,
    .c-filename-snackbar .widget-button:active,
    .c-filename-snackbar .widget-button:focus {
        box-shadow: none !important;
    }
    .c-filename-snackbar .widget-button:active {
        color: transparent !important;
    }

    /* Icon button */
    .c-icon-button {
        height: 30px;
        width: 30px;
        border-radius: 50%;
        background: transparent !important;
        color: var(--light-grey);
        font-size: 10px;
        line-height: 10px;
        text-align: center;
    }
    .c-icon-button:hover,
    .c-icon-button:active,
    .c-icon-button:focus {
        box-shadow: none !important;
    }
    .c-icon-button:active {
        color: var(--light-grey) !important;
    }
    .c-icon-button:visited {
        color: var(--light-grey) !important;
    }

    /* Header bar */
    .c-header-bar {
        background: var(--dark-blue);
        color: white;
        align-items: center;
        font-weight: 500;
        height: 56px;
        padding: 0px 48px;
        margin: 0px 0px;
    }

    /* Stepper element */
    .c-stepper-element {
        align-items: center;
    }
    .c-stepper-element__number {
        font-size: 15px;
        color: white;
        height: 40px;
        width: 40px;
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        margin: 0px 4px;
    }
    .c-stepper-element__title {
        padding: 0px 4px;
    }
    .c-stepper-element__separator {
        width: 48px;
    }
    /* -style element number under different element modifiers */
    .c-stepper-element--current > .c-stepper-element__number {
        background: var(--blue);
    }
    .c-stepper-element--active > .c-stepper-element__number {
        background: var(--green);
    }
    .c-stepper-element--inactive > .c-stepper-element__number {
        background: var(--light-grey);
    }
    /* -style element title under different element modifiers */
    .c-stepper-element--current > .c-stepper-element__title,
    .c-stepper-element--active > .c-stepper-element__title {
        color: var(--dark-blue);
    }
    .c-stepper-element--inactive > .c-stepper-element__title {
        color: var(--light-grey);
    }
    /* -style element separator under different element modifiers */
    .c-stepper-element--current > .c-stepper-element__separator,
    .c-stepper-element--active > .c-stepper-element__separator {
        color: var(--blue);
    }
    .c-stepper-element--inactive > .c-stepper-element__separator {
        color: var(--light-grey);
    }

    /* File upload area */
    .c-upload-area {
        background: transparent;
        width: 500px;
        height: 90px;
        position: relative;
        margin: 20px 0px;
    }
    .c-upload-area__background,
    .c-upload-area__overlay {
        width: 99% !important;     /*99%, instead of 100%, to avoid overflow*/
        height: 99% !important;
        background: transparent;
        border-radius: 15px;
        position: absolute;
        top: 0;
        left: 0;
        align-self: center;
    }
    .c-upload-area__background {
        color: var(--grey);
        /*draw custom dashed border*/
        background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='15' ry='15' stroke='%23757575' stroke-width='2' stroke-dasharray='6%2c 6' stroke-dashoffset='0' stroke-linecap='butt'/%3e%3c/svg%3e") !important;  
        display: flex;
        flex-flow: row nowrap;
        align-items: center;
        justify-content: center;
    }
    .c-upload-area__overlay {
        color: transparent;
        z-index: 10;
    }
    .c-upload-area__file-label {
        display: none;
    }
    .c-upload-area__file-uploader {
        width: 500px;
        height: 90px;
        opacity: 0;
        color: transparent;
    }
    .c-upload-area__file-uploader:enabled {
        cursor: pointer;
    }
    .c-upload-area__file-uploader:disabled {
        cursor: progress;
    }

    /* Notification */
    .c-notification {
        visibility: hidden; /*Hidden by default */
        min-width: 32%; /* Set a default minimum width */
        margin-left: -16%; /* Divide value of min-width by 2 */
        align-items: center;
        text-align: center; /* Centered text */
        border-radius: 4px; /* Rounded borders */
        padding: 12px 20px; /* Padding */
        position: absolute; /* Sit on top of the application */
        z-index: 1; /* Add a z-index */
        left: 50%; /* Center the notification */
        top: 84px; /* 30px from the bottom */
    }
    .c-notification--show {
        visibility: visible; /* Show the notification */
        /* Add animation: Take X seconds to fade in and out the notification. */
        /* However, delay the fade out process for Y seconds  */
        -webkit-animation: fadein 0.25s, fadeout 0.25s 3.5s; 
        animation: fadein 0.25s, fadeout 0.25s 3.5s;
    }
    .c-notification--success {
        background: var(--alert-green)
    }
    .c-notification--warning {
        background: var(--alert-yellow)
    }
    .c-notification--error{
        background: var(--alert-red)
    }
    .c-notification--info{
        background: var(--alert-blue)
    }
    /* Animations to fade the notification in and out */
    @-webkit-keyframes fadein {
    from {top: 84px; opacity: 0;}
    to {top: 84px; opacity: 1;}
    }
    @keyframes fadein {
    from {top: 84px; opacity: 0;}
    to {top: 84px; opacity: 1;}
    }
    @-webkit-keyframes fadeout {
    from {top: 84px; opacity: 1;}
    to {top: 84px; opacity: 0;}
    }
    @keyframes fadeout {
    from {top: 84px; opacity: 1;}
    to {top: 84px; opacity: 0;}
    }

    /* Column assignment table */
    .c-column-assignment-table {
        display: grid;
        grid-template-columns: repeat(8, 1fr);  /* 100% / 8 */
        background: var(--light-grey);
        border: 1px solid var(--light-grey);
        margin: 8px 0px 16px 0px;
        grid-gap: 1px 1px;
    }
    .c-column-assignment-table > * {
        width: 100%;
        background: white;
        justify-content: center;
    }
    .c-column-assignment-table > *:nth-child(-n+8) {  /*Target the first row*/
        font-weight: bold;
    }
    .c-column-assignment-table select {
        border: none;
        width: inherit;
        text-overflow: ellipsis;
    }

    /* Preview table */
    .c-preview-table {
        background: var(--light-grey);
        border: 1px solid var(--light-grey);
        margin: 8px 0px 16px 0px;
        grid-gap: 1px 0px;
    }
    .c-preview-table > * {
        width: 100%;
        background: white;
        justify-content: flex-start;
        padding: 0px 16px;
    }

    /* Rows overview table */
    .c-rows-overview-table {
        background: var(--light-grey);
        border: 1px solid var(--light-grey);
        margin: 16px 0px 20px 0px;
        grid-template-columns: 3fr 1fr;
        width: 484px;
        grid-gap: 1px 1px;
    }
    .c-rows-overview-table > *:nth-child(2n - 1) {  /*target children in the second last column out of 2 columns*/
        width: 100%;
        background: white;
        justify-content: flex-start;
        padding: 0px 16px;
    }
    .c-rows-overview-table > *:nth-child(2n) {  /*target children in the last column out of 2 columns*/
        width: 100%;
        background: white;
        justify-content: center;
    }

    /* Labels overview table */
    .c-bad-labels-table {
        display: block;
        height: 117px;
        max-height: 121px;
        width: 510px;
        margin: 16px 0px 0px 0px;
        overflow: auto;
        border: 1px solid var(--light-grey);
    }
    .c-bad-labels-table table {
        border-collapse: separate;
        background: var(--light-grey);
        /* table-layout: fixed; */
    }
    .c-bad-labels-table thead {
        /* border-bottom: 1px solid var(--light-grey); */
    }
    .c-bad-labels-table tr {
        /* border: 1px solid var(--light-grey); */
        height: 26px;
    }
    .c-bad-labels-table th {
        background: white;
        text-align: center;
        height: 26px;
        width: 166px;
        position: sticky;
        top: 0;
        z-index: 2;
        border-right: 1px solid var(--light-grey);
        border-bottom: 1px solid var(--light-grey) !important;
    }
    .c-bad-labels-table td {
        background: white;
        text-align: center;
        height: 26px;
        width: 166px;
        max-width: 166px;
        overflow: hidden;
        padding: 0px 8px;
        text-overflow: ellipsis;
        border-right: 1px solid var(--light-grey);
        border-bottom: 1px solid var(--light-grey);
    }

    /* Unknown labels table */
    .c-unknown-labels-table {
        display: grid;
        grid-template-columns: repeat(5, 1fr);  /* 100% / 5 */
        background: var(--light-grey);
        border: 1px solid var(--light-grey);
        margin: 16px 0px 0px 0px;
        /* width: 100%; */
        grid-gap: 1px 1px;
        height: 116px;
        overflow-y: auto;
    }
    .c-unknown-labels-table > * {   /* Target all wrappers for table item */
        height: 28px;
        width: 100%;
        background: white;
        justify-content: center;
        padding: 0px 8px
    }
    .c-unknown-labels-table .widget-dropdown {    /* Target all dropdown wrapper*/
        width: inherit;
    }
    .c-unknown-labels-table select {    /* Target all dropdown */
        width: inherit;
        border: none;
        text-overflow: ellipsis;
    }
    .c-unknown-labels-table .widget-checkbox {  /* Target all checkbox wrappers */
        width: auto;
    }
    .c-unknown-labels-table input[type="checkbox"] {    /* Target all checkbox*/
        margin-right: 0px;
    }
    .c-unknown-labels-table > .widget-box:nth-child(-n+5) { /* Target the first row */
        font-weight: bold;
        position: sticky;
        top: 0;
        z-index: 2;
        align-self: start;
        box-shadow: 0 1px 0 0 var(--light-grey);
    }
    .c-unknown-labels-table > .widget-box:nth-child(5n) { /* Target the fifth / last column */
        border-right: 1px solid var(--light-grey);
    }

    /* Visualization tab */
    .c-visualization-tab {
        grid-template-columns: 1fr 1fr 1fr;
        width: 331px;
        height: 36px;
        border-radius: 5px;
        border: 1px solid #60A5FA;
        grid-gap: 1px;
        background: #60A5FA;
    }
    .c-visualization-tab__element {
        position: relative;
        background: white;
        color: #60A5FA;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .c-visualization-tab__element--active {
        background: #60A5FA;
        color: white;
    }
    .c-visualization-tab__element > .widget-label {     /* .widget-label is defined by ipywidgets */
        color: inherit;
    }
    .c-visualization-tab__element > button {    /* Style the hidden button that gives the tab clickable functionality */
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
        background: transparent;
        width: 100%;
        height: 100%;
        border-radius: 0;
    }
    .c-visualization-tab button:active:enabled {
        background: transparent;
    }

</style>